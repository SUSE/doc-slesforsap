<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="s4s_installation_sap.xml" version="5.0" xml:id="cha-install-sap">
 <title>SAPアプリケーションのインストール</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  このセクションでは、SAPから受け取ったSAPメディアセットのインストールについて説明します。
 </para>
 

 

 <sect1 xml:id="sec-install-sap-welcome">
  <title>最初のステップ</title>

  <para>
   これらの最初のステップは、インストールワークフロー中にのみ関連します。
  </para>

  <procedure>
   <step>
    <para>
     システムがブートすると、<guimenu>ようこそ</guimenu>画面が表示されます。<guimenu>次へ</guimenu>で続行します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>ネットワーク設定</guimenu>画面が開きます。これにより、ネットワーク設定を変更することができます。
    </para>
    <para>
     ネットワークを設定し終えたら、<guimenu>次へ</guimenu>で続行します。
    </para>
    <important>
     <title>SAPで推奨するようにネットワークを設定する</title>
     <para>
      SAPアプリケーションのドキュメントに従って、ネットワーク接続を設定してください。
     </para>
    </important>
    <para>
     ネットワーキングの設定については、<citetitle>
      Administration Guide, Chapter <quote>Basic Networking</quote>,
      Section <quote>Configuring a Network Connection with YaST</quote>
     </citetitle>(<link xlink:href="https://documentation.suse.com/sles-15"/>)を参照してください。
    </para>
     <para>
      (次の画面が読み込まれる間、<guimenu>ようこそ</guimenu>画面が数秒間、再び表示される場合があります。)
     </para>
     <remark>
      It does appear for around 8s for me which makes you wonder a bit as a
      user. - sknorr, 2016-01-25
     </remark>
   </step>
   <step>
    <para>
     以下のいずれかのオプションを選択してください。
    </para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>SAPファイルシステムを作成してSAP製品のインストールを開始する</guimenu>
      </term>
      <listitem>
       <para>
        SAPアプリケーションをインストールし、SAPインストールルーチンを他のシステムに提供するサーバとしてシステムをセットアップできます。
       </para>
       <para>
        <xref linkend="sec-install-sap-product"/>に進んでください。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Only create SAP HANA file systems, do not install SAP products now (SAP HANAファイルシステムのみを作成し、今はSAP製品をインストールしません)</guimenu>
      </term>
      <listitem>
       <para>
        SAP BusinessOne認定ハードウェア上にSAP HANAファイルシステムを作成します。
       </para>
       
       <remark>
        Create a procedure for HANA fs creation? It just does stuff and you
        can't do much anyway. - sknorr, 2016-01-28
       </remark>
       <important>
        <title>ハードウェア要件</title>
        <para>
         ご使用のマシンが<xref linkend="sec-hardware"/>で詳しく説明されるSAP HANAのハードウェア要件を満たしていることを確認してください。満たしていない場合、このオプションは新しいファイルシステムを作成せず、この時点でインストールワークフローが終了します。
        </para>
       </important>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>ウィザードを完了してOSログインに進む</guimenu>
      </term>
      <listitem>
       <para>
        SAPアプリケーションをインストールせず、SUSE Linux Enterprise Server for SAP applicationsのログイン画面に進みます。
       </para>
       
      </listitem>
     </varlistentry>
    </variablelist>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-install-sap-product">
  <title>SAPインストールウィザードの使用</title>

  <para>
   SAPインストールウィザードを使用して、SAP NetWeaverシステム(データベースを含む)またはSAP HANAシステムをインストールします。
  </para>
  <para>
   他のSAPアプリケーションをインストールしたり、より高度なSAP HANAセットアップを作成したりするには、このウィザードではなく、SAPによって提供されるインストール方法のいずれかを直接使用してください。
  </para>

  <tip>
   <title>完全にインストールされたシステムへのSAPアプリケーションのインストール</title>
   <para>
    このプロセスは、インストールワークフロー中に表示されるとおりに文書化されています。ただし、インストール済みシステムで使用可能なYaSTモジュール<guimenu>SAPインストールウィザード</guimenu>にも適用されます。
   </para>
   <para>
    SAPインストーラを起動するには、デスクトップから<menuchoice><guimenu>アプリケーション</guimenu><guimenu>システム</guimenu>
    <guimenu>YaST</guimenu></menuchoice>の順に選択し、YaSTコントロールセンターで<menuchoice><guimenu>その他</guimenu>
    <guimenu>SAPインストールウィザード</guimenu></menuchoice>を選択して続行します。
   </para>
  </tip>
  <tip>
   <title>SAPインストールウィザードの設定</title>
   <remark>
    Terminology: "SAP Installer"/"SAPinst" and "SAP Installation Wizard" are
    pretty close. Maybe SUSE should change the wizard's name some time in the
    future..? - sknorr, 2016-01-15
   </remark>
   <para>
    SAPインストールウィザードの設定は<filename>/etc/sysconfig/sap-installation-wizard</filename>で指定され、文書化されています。ニーズに応じてそれを変更できます。
   </para>
  </tip>

  <procedure>
   <step xml:id="st-copy-master">
    <para>
     <guimenu>SAPインストールウィザード</guimenu>画面で、<guimenu>SAPインストールマスタの場所</guimenu>(<xref linkend="fig-sap-wizard-source"/>)を指定します。場所はローカル、リムーバブル、またはリモートインストールソースのいずれかです。
    </para>
    <figure xml:id="fig-sap-wizard-source">
     <title>SAPインストールマスタの場所</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sap_wizard_source.png" width="73%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sap_wizard_source.png" width="73%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     ドロップダウンリストから適切なオプションを選択します。テキストボックスで、次の表に示す形式に従って、ソースへのパスを指定します。
    </para>

    <table xml:id="tab-sap-media-source">
     <title>メディアソースのパス</title>
     <tgroup cols="3">
      <colspec colnum="1" colname="option" colwidth="15*"/>
      <colspec colnum="2" colname="desc" colwidth="30*"/>
      <colspec colnum="3" colname="format" colwidth="55*"/>
      <thead>
       <row>
        <entry>
         <para>
          オプション
         </para>
        </entry>
        <entry>
         <para>
          説明
         </para>
        </entry>
        <entry>
         <para>
          パスの形式
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry namest="option" nameend="format">
         <emphasis role="strong"></emphasis>「ローカルソース」
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>dir://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          ローカルディレクトリ
         </para>
        </entry>
        <entry>
         <para>
          <filename><replaceable>/path/to/dir/</replaceable></filename>
         </para>
        </entry>
       </row>
       <row>
        <entry namest="option" nameend="format">
         <emphasis role="strong"></emphasis>「リムーバブルソース」
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>デバイス://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          ローカルに接続されたハードディスク
         </para>
        </entry>
        <entry>
         <para>
          <filename><replaceable>devicename</replaceable><replaceable>/path/to/dir/on/device</replaceable></filename>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>usb://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          USBマスストレージデバイス
         </para>
        </entry>
        <entry>
         <para>
          <filename><replaceable>/path/to/dir/on/USB</replaceable></filename>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>cdrom://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          CDまたはDVD
         </para>
        </entry>
        <entry>
         <para>
          <filename><replaceable>//</replaceable></filename>
         </para>
         
        </entry>
       </row>
       <row>
        <entry namest="option" nameend="format">
         <emphasis role="strong"></emphasis>「リモートソース」
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>nfs://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          NFS共有
         </para>
        </entry>
        <entry>
         <para>
          <filename><replaceable>server_name</replaceable><replaceable>/path/to/dir/on/device</replaceable></filename>
         </para>
         
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <guimenu>smb://</guimenu>
         </para>
        </entry>
        <entry>
         <para>
          SMB共有
         </para>
        </entry>
        <entry>
         <para>
          <filename>[<replaceable>user_name</replaceable>:<replaceable>password</replaceable>@]<replaceable>server_name</replaceable>/<replaceable>/path/to/dir/on/server</replaceable>[?workgroup=<replaceable>workgroup_name</replaceable>]</filename>
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </table>

    

    <para>
     以前にインストールサーバからSAPアプリケーションをインストールしたことがある場合、またはシステムをインストールサーバとして設定している場合は、インストールマスタのプロバイダとしてそのサーバを直接選択することもできます。これを行うには、<guimenu>インストールマスタの選択</guimenu>の下のドロップダウンリストを使用します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>高度なオプション</guimenu>で、次のオプションから選択します。
    </para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>SAP製品に対するインストールプロファイルを収集しますが、インストールは実行しません</guimenu>
      </term>
      <listitem>
       <para>
        このオプションを使用して、インストールパラメータを設定しますが、実際のインストールは実行しません。このオプションを使用すると、SAPインストーラ(SAPinst)は実際のSAP製品のインストールを実行しないで停止します。ただし、以降の手順はすべて適用されます。
       </para>
       
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>ローカルのネットワークに対して、NFSを介して全てのインストールメディア (マスターを含む) を提供します</guimenu>
      </term>
      <listitem>
       <para>
        このシステムを他のSUSE Linux Enterprise Server for SAP applicationsシステムのインストールサーバとして設定します。このインストールサーバにコピーされるメディアはNFSを通じて提供され、サービスロケーションプロトコル(SLP)を介して検出できます。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
    <para>
     SAPインストールウィザードは、インストールマスタをローカルディスクにコピーします。選択したインストールマスタのタイプによって、インストールは異なる方法で続行されます。
    </para>
    <itemizedlist>
     <listitem>
      <para>
       SAP HANAデータベースをインストールする場合は、<xref linkend="st-supplement" xrefstyle="select:label"/>にスキップします。
      </para>
     </listitem>
     <listitem>
      <para>
       SAP NetWeaverアプリケーションをインストールする場合は、次の手順に進みます。
      </para>
     </listitem>
    </itemizedlist>
   </step>
   <step xml:id="st-copy-media">
    <para>
     <guimenu>SAPインストールウィザード</guimenu>画面で、インストールする追加のインストールメディアの場所を指定します。これには、SAPカーネル、データベースおよびデータベースのエクスポートを含めることができます。
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>メディアのコピー</guimenu></term>
      <listitem>
       <para>
        追加のインストールメディアへのパスを指定します。パスの指定の詳細については、<xref linkend="tab-sap-media-source"/>を参照してください。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>メディアのコピーの省略</guimenu></term>
      <listitem>
       <para>
        追加のインストールメディアはコピーしない。追加のインストールメディアが必要ない場合、または追加のインストールメディアをCD/DVDやフラッシュディスクなどのソースから直接インストールする場合は、このオプションを選択します。
       </para>
       <para>
        SAP製品に追加のインストールメディアが必要であるにもかかわらずこのオプションを選択する場合は、後でSAPインストーラ(SAPinst)に関連するパスを提供する必要があります。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
    <para>
     インストールメディアをコピーすることを選択する場合、SAPインストールウィザードはローカルハードディスクに関連するファイルをコピーします。
    </para>
    <figure xml:id="fig-sap-wizard-sapmedia">
     <title>SAPインストールウィザード: 追加のインストールメディア</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sap_wizard_location_sapmedia.png" width="73%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sap_wizard_location_sapmedia.png" width="73%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     インストールメディアをコピーした後で、追加のインストールメディアを準備するかどうかを尋ねられます。これを行うには、<guimenu>はい</guimenu>をクリックします。次に、<xref linkend="st-copy-media" xrefstyle="select:label"/>の手順に従います。
    </para>
    <para>
     これを行わない場合は、<guimenu>いいえ</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     <guimenu>What Would You Like to Install (インストールするもの)</guimenu>画面の<guimenu>The SAP product is (SAP製品)</guimenu>の下で、製品をインストールする方法を選択します。
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>SAP標準システム</guimenu></term>
      <listitem>
       <para>
        そのデータベースを含むSAPアプリケーションをインストールします。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>SAPスタンドアロンエンジン</guimenu></term>
      <listitem>
       <para>
        機能を標準製品(SAP TREX、SAP GatewayおよびWeb Dispatcher)に追加するエンジンです。
       </para>
       
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>分散システム</guimenu></term>
      <listitem>
       <para>
        複数のサーバに分散されたSAPアプリケーション。
       </para>
       
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>SAP高可用性システム</guimenu></term>
      <listitem>
       <para>
        高可用性セットアップでのSAP NetWeaverのインストール。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>システムの名前変更</guimenu></term>
      <listitem>
       <para>
        SAPシステムID、データベースID、インスタンス番号、ホスト名など、さまざまなシステムプロパティを変更できます。これを使用して、同じ製品を異なるシステムに非常に類似した設定でインストールできます。
       </para>
       
      </listitem>
     </varlistentry>
    </variablelist>
    <figure xml:id="fig-sap-wizard-mode-db">
     <title>SAPインストールウィザード: インストールタイプおよびデータベース</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sap_wizard_mode_db.png" width="73%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sap_wizard_mode_db.png" width="73%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     <guimenu>SAP標準システム</guimenu>、<guimenu>分散システム</guimenu>、または<guimenu>SAP高可用性システム</guimenu>を選択した場合、追加で<guimenu>バックエンドデータベース</guimenu>でバックエンドデータベースを選択します。
    </para>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>製品を選択してください</guimenu>画面が表示されます。表示される製品は、SAPから受け取るメディアセットおよびインストールマスタによって異なります。リストから、インストールする製品を選択します。
    </para>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
    <figure xml:id="fig-sap-wizard-avail-products">
     <title>SAPインストールウィザード: 製品の選択</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sap_wizard_available_products.png" width="73%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sap_wizard_available_products.png" width="73%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step xml:id="st-supplement">
    <para>
     補足メディアまたはサードパーティメディアをコピーするかどうかを尋ねられます。これを行うには、<guimenu>はい</guimenu>をクリックし、<xref linkend="st-copy-media" xrefstyle="select:label"/>の手順に従います。
    </para>
    <para>
     これを行わない場合は、<guimenu>いいえ</guimenu>をクリックします。
    </para>
    <note>
     <title>補足メディア/サードパーティメディアの違いおよび追加のソフトウェアリポジトリ</title>
     <para>
      どちらのタイプの配信メカニズムでも、SUSE Linux Enterprise Server for SAP applicationsメディアの一部でもなく、SAPのメディアセットの一部でもないソフトウェアをインストールできます。ただし、配信メカニズムは異なります。
     </para>
     <itemizedlist>
      <listitem>
       <para>
        補足メディア/サードパーティメディアは、インストールウィザードおよびカスタムインストールスクリプトを作成できるAutoYaSTファイルを使用してインストールされます。
       </para>
      </listitem>
      <listitem>
       <para>
        追加のソフトウェアリポジトリは、購読したままにするRPMパッケージリポジトリです。これは、サードパーティメディアのアップデートと定期的なシステムアップデートを受信することを意味します。
       </para>
      </listitem>
     </itemizedlist>
    </note>
    
   </step>
   <step>
    <para>
     <guimenu>SAPをインストールするための追加のソフトウェアリポジトリ</guimenu>画面では、さらにソフトウェアリポジトリを追加できます。たとえば、RPMとしてパッケージ化されたアドオン用。これを実行するには、<guimenu>新しいソフトウェアリポジトリの追加</guimenu>をクリックします。リポジトリの追加の詳細については、<citetitle>Deployment Guide,
     Chapter <quote>Installing and Removing Software</quote>,
     Section <quote>Adding Software Repositories</quote></citetitle>(<link xlink:href="https://documentation.suse.com/sles-15"/>)を参照してください。
    </para>
    <para>
     <guimenu>次へ</guimenu>で続行します。
    </para>
    <note>
     <title>コピーされたSAPメディアの場所</title>
     <para>
      この時点で、SAPインストールに必要なすべてのデータが<filename>/data/SAP_CDs</filename>にコピーされています(コピープロセスをスキップすることを選択した場合を除く)。各インストールメディアは個別のディレクトリにコピーされます。たとえば、次のようなディレクトリ構造があります。
     </para>
<screen><prompt>&gt; </prompt>ls /data/SAP_CDs
742-KERNEL-SAP-Kernel-742
742-UKERNEL-SAP-Unicode-Kernel-742
RDBMS-MAX-DB-LINUX_X86_64
SAP-NetWeaver-740-SR2-Installation-Export-CD-1-3
SAP-NetWeaver-740-SR2-Installation-Export-CD-2-3
SAP-NetWeaver-740-SR2-Installation-Export-CD-3-3</screen>
     <para>
      <filename>/data/SAP_CDs</filename>は、<filename>/etc/sysconfig/sap-installation-wizard</filename>設定ファイルで指定されたデフォルトのディレクトリです。
     </para>
    </note>
   </step>
   <step xml:id="st-collect-parameter">
    <para>
     インストールする製品に応じて、1つ以上のダイアログが、インストールするSAPアプリケーションのいくつかの設定パラメータの値を指定するよう要求します。
    </para>
    <para>
     SAPによって提供されたドキュメントの説明に従って、値を指定します。設定パラメータのヘルプも、ダイアログの左側に表示されます。詳細については、<xref linkend="sec-data"/>を参照してください。
    </para>

    <para>
     1つ(または複数)のフォームに入力し、<guimenu>OK</guimenu>で続行します。
    </para>
    <figure xml:id="fig-product-parameter">
     <title>製品パラメータ</title>
     <mediaobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sap_wizard_product_param.png"/>
      </imageobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sap_wizard_product_param.png" width="73%"/>
      </imageobject>
      <textobject role="description">
       <phrase>製品パラメータを設定するダイアログ</phrase>
      </textobject>
     </mediaobject>
    </figure>
    <para>
     完了したら、SAPインストールウィザードは追加のソフトウェアパッケージをダウンロードします。
    </para>
   </step>
   <step>
    
    <para>
     インストールを続行するか、または別のSAP製品をインストールする準備をするかを尋ねられます。別のSAP製品を準備することを選択する場合は、この手順の初めから開始します。
    </para>
   </step>
   <step performance="optional">
    <para>
     SAP HANAの認定を受けておらず、SAP HANA TDI (Tailored Datacenter Integration)の最小ハードウェア要件を満たしていないシステムにSAP HANAをインストールする場合、続行するかどうかを尋ねられます。予期せずこのメッセージが表示された場合は、<xref linkend="sec-hardware"/>およびSAPのサイジングガイドライン(<link xlink:href="https://service.sap.com/sizing"/>)を確認してください(情報にアクセスするにはSAP IDが必要です)。
    </para>
    <para>
     それ以外の場合は、<guimenu>はい</guimenu>で続行します。
    </para>
   </step>
   <step xml:id="st-sapinst">
    <para>
     以降の手順は、インストールするSAPアプリケーションのタイプによって異なります。
    </para>
    <itemizedlist>
     <listitem>
      <para>
       SAP HANAデータベースをインストールする場合、さらに質問されることなく、SAP HANAがインストールされます。
      </para>
     </listitem>
     <listitem>
      <para>
       SAP NetWeaverアプリケーションをインストールする場合、実際のインストールはSAPインストーラ(SAPinst)を使用して実行されます。数秒後、SAPインストーラが自動的に開きます。
      </para>
      <para>
       SAPで提供されるドキュメントの説明に従って、SAPインストーラを実行します。ほとんどの設定パラメータはすでに正しく入力されています。
      </para>
     </listitem>
    </itemizedlist>
    <figure xml:id="fig-sapinst-param">
     <title>SAPインストーラ: パラメータの定義</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="s4s_sapinst_param.png" width="73%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="s4s_sapinst_param.png" width="73%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <tip>
     <title>インストールログファイル</title>
     <para>
      SAPアプリケーションのインストールが失敗する場合は、インストールログファイルを参照してください。これらのファイルは、<filename>/var/adm/autoinstall</filename>にあります。失敗したインストールは、名前が<filename>.err</filename>で終わるファイルに記録されます。
     </para>
     
    </tip>
   </step>
   <step>
    <para>
     最後の画面は<guimenu>インストールが完了しました</guimenu>です。
    </para>
    <para>
     このインストールでAutoYaSTファイルを作成するには、<guimenu>AutoYaST用にこのシステムのクローンを作成する</guimenu>を有効にします。AutoYaSTファイルは<filename>/root/autoinst.xml</filename>に配置されます。
    </para>
    <para>
     <guimenu>完了</guimenu>をクリックします。
    </para>
   </step>
  </procedure>
 </sect1>

 

 

 

</chapter>
