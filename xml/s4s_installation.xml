<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd" [
<!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<chapter id="s4s.installation">
 <title>Default Installation Scenarios</title>

  <para>After planning the installation with downloading the software
  and checking the minimal hardware requirements, there are three
  default installation scenarios:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     <xref linkend="s4s.inst.inst" xrefstyle="select:title,nopage"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="s4s.inst.wizard" xrefstyle="select:title,nopage"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="s4s.inst.profile" xrefstyle="select:title,nopage"/>
    </para>
   </listitem>
  </itemizedlist>

 <sect1 id="s4s.inst.planning">
  <title>Planning the Installation</title>

  <para>
   Plan the installation with downloading the software and checking the
   minimal hardware requirements.
  </para>

  <sect2>
   <title>Download and Installation Preparations</title>

  <procedure>
   <step>
    <para>
     Download the DVD ISO image of &sles4sapreg; 12 (electronic media
     kit).
    </para>
   </step>
   <step>
    <para>
     Burn the image onto a physical DVD and ensure that it is bootable.
     Alternatively, you might use a virtual CD-ROM device for
     installation into a virtual machine.
    </para>
   </step>
   <!--
   <step>
    <para>
    (Optional) Get the SAP Business All-in-One or another SAP solution for
    Media-Changer installation media from SAP.
    </para>
   </step>
   -->
  </procedure>
 </sect2>

 <!-- ================================================================== -->
 <sect2>
  <title>Hardware Requirements</title>

  <variablelist>
   <varlistentry>
    <term>CPU</term>
    <listitem>
     <para>64bit (x86_64).</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Hard Disk</term>
    <listitem>
     <para>
      For the <guimenu>Installation with Wizard</guimenu>, at least
      10 GB hard disk space for the system volume plus space for the
      swap partition and 200 GB for the data partition are required.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

</sect1>


 <sect1 id="s4s.inst.booting">
 <title>Booting the Installation Medium</title>
 <para>
  Different scenarios are available to install &sles4sap; 12.  Select
  the preferred installation scenario from the DVD boot menu:
 </para>

 <figure id="fig.s4s.dvd.bootmenu">
  <title>DVD Boot Menu</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="s4s-dvd-boot-menu.png" width="100%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="s4s-dvd-boot-menu.png" width="100%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>

 <variablelist>
  <varlistentry>
   <term>Boot from Hard Disk</term>
   <listitem>
    <para>Booting the system installed on the local hard disk.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><guimenu>SLES for SAP Applications &mdash;
   Installation</guimenu> (see <xref linkend="s4s.inst.inst"/>)</term>
   <listitem>
    <para>
     A standard SLES installation prepared for installing SAP
     applications later. You can install SAP applications with 3rd party
     installation routines.
    </para>
    <para>
    This scenario is suitable for experienced administrators who want
    to install &sles4sap; according to their own plan.  The default
    package selection is already adapted to SAP installations.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><guimenu>SLES for SAP Applications &mdash; Installation with
   Wizard</guimenu> (see <xref linkend="s4s.inst.wizard"/>)</term>
   <listitem>
    <para>
     This is a guided installation of the operating system and a SAP
     application.  After the installation of the operating system the
     SAP Installation Wizard will start for installation of a validated
     SAP solution.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><guimenu>SLES for SAP Applications &mdash; Installation with
   External Profile</guimenu> (see <xref
   linkend="s4s.inst.profile"/>)</term>
   <listitem>
    <para>This installation is driven by a user-provided &ay;
    profile.  There are no &suse;-provided SAP optimizations.</para>

    <para>This scenario is suitable for experienced users who are
    familiar with &ay; and want to deploy their own &ay; profiles
    to install &sles4sap;.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Rescue System</term>
   <listitem>
    <!-- checked 2015-02-23, ke -->
    <para>
     Starting a minimal Linux system without a graphical user
     interface. For more information, see the &admin;, Chapter 36,
     Common Problems and Their Solutions; find the &admin; at <ulink
     url="https://www.suse.com/documentation/sles-12/"/>.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Memory Test</term>
   <listitem>
    <!-- checked 2015-02-23, ke -->
    <para>
     Testing the system RAM using repeated read and write cycles. For
     more information, see the &admin; Chapter 36, Common Problems and
     Their Solutions.
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 </sect1>

 <sect1 id="s4s.inst.inst">
  <title><guimenu>SLES for SAP Applications &mdash;
  Installation</guimenu></title>
  <!-- checked 2015-02-23, ke -->
  <para>
   The first part is a standard manual &sls; installation; for details
   about such a SLES installation, see the SLES &deploy;, Chapter 6,
   <quote>Installation with &yast;</quote>.

   <!--
       License, Installation Mode, Time, Server Base scenario,
       Installation Settings (here change partitioning and other
       settings, if needed).
       After deploying the software: root password. network config,
       NCC, Network Services, User Auth, Hardware Config 
   -->

   <!-- FIXME: checkit -->
   In addition, the SAP Application Server Base
   (<systemitem>sap-loc</systemitem> and
   <systemitem>sapconf</systemitem>) pattern will be installed by
   default and basic settings will be configured.
  </para>

  <para>
   You will be prompted for all common installation settings, like
   partitioning of storage devices, network, or software packages.
  </para>

 </sect1>

 <sect1 id="s4s.inst.wizard">
  <title><guimenu>SLES for SAP Applications &mdash; Installation with
  Wizard</guimenu></title>
  <para>
   This is a guided installation of the operating system with optimized
   settings for SAP applications.
  </para>

  <para>
   During this installation scenario, the following installation and
   configuration steps will take place and interactive settings are
   required or possible.
  </para>

 <sect2>
  <title>Data Required for Installing the System (with Wizard)</title>

  <para>
   The following data is required for the &sls; part of the
   installation (required per physical server):
  </para>

  <informaltable>
     <tgroup cols = "2">
      <tbody>
       <row>
        <entry>
         <para>
          Hostname
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Domain
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          IP address
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Subnet mask
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Domain searchlist (DNS)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          IP for nameserver
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          IP for gateway
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Master password for the system installation (root password)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

      </tbody>
     </tgroup>
  </informaltable>

  <para>
   The following data is required for the SAP part of the
   installation (required per SAP system):
  </para>

  <informaltable>
     <tgroup cols = "2">
      <tbody>
       <row>
        <entry>
         <para>
          SAP System ID of the system to be built up
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Virtual hostname (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Virtual IP address for SAP service (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Virtual netmask (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Instance number of the SAP system
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Solution Manager key for the SAP system (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          System T-Shirt Sizing (S, M, L, or customer-specific size) (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

       <row>
        <entry>
         <para>
          Database Log Mode (*)
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>

      </tbody>
     </tgroup>
  </informaltable>

  <para>(*) not required for TREX.</para>
 </sect2>


  <sect2 id="s4s.inst.wizard.boot">
   <title>Selecting <guimenu>SLES for SAP Applications &mdash;
   Installation with Wizard</guimenu> from the DVD Boot Menu</title>
   <para>
    From the DVD boot menu (see <xref linkend="fig.s4s.dvd.bootmenu"/>),
    select <guimenu>SLES for SAP Applications &mdash; Installation with
    Wizard</guimenu>.  The installation process loads and configures a
    Linux system with all requirements for a SAP installation.  To
    view the boot messages and copyright notices during this process,
    press <keycap>Esc</keycap>. On completion of this process, the
    &yast; installation program starts and displays the graphical
    installer, which will run mostly automatically.
   </para>
  </sect2>

  <sect2 id="sec.s4s.inst.wizard.prepauto">
   <title>Preparing System for Automated Installation</title>

   <para>
    After analyzing your computer, enter the system administrator
    password; see <xref linkend="fig.s4s.sap-wizard-admin-password"/>.
    This is the root password for the system.
   </para>
    
  <sect3 id="sec.s4s.inst.wizard.yast2.user.root">
   <title>Password for the System Administrator &rootuser;</title>
   
   <figure id="fig.s4s.sap-wizard-admin-password">
    <title>System Administrator Password</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="s4s_sap_wizard_admin_password.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="s4s_sap_wizard_admin_password.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>

<!--
  <sect2 id="sec.s4s.inst.wizard.yast2.user.root">
   <title>Password for the System Administrator &rootuser;</title><indexterm>
   <primary>&yast;</primary>
   <secondary>root password</secondary></indexterm><indexterm>
   <primary>installation</primary>
   <secondary>root password</secondary></indexterm>
   <para>
    When all packages are installed, the basic installation is finished,
    and the system is rebooted for initial configuration, you will be
    prompted to enter a Password for the System Administrator
    &rootuser;; see <xref linkend="fig.s4s.inst.yast-root-password"/>.
   </para>

   <figure id="fig.s4s.inst.yast-root-password">
    <title>Password for root User</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast-root-password.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast-root-password.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>

   <para>
    &rootuser; is the name of the superuser, or the administrator of the
    system. Unlike regular users (who may or may not have permission to
    access certain areas or execute certain commands on the system),
    &rootuser; has unlimited access to change the system configuration,
    install programs, and set up new hardware.  The &rootuser; account
    should only be used for system administration, maintenance, and
    repair. Logging in as &rootuser; for daily work is rather risky: a
    single mistake could lead to irretrievable loss of system files.
   </para>
   <para>
    For verification purposes, the password for &rootuser; must be entered
    twice. Do not forget the &rootuser; password. Once entered, this
    password cannot be retrieved.
   </para>
   <para>
    The &rootuser; password can be changed any time later in the
    installed system. To do so, run &yast; and start <menuchoice>
    <guimenu>Security and Users</guimenu> <guimenu>User and Group
    Management</guimenu> </menuchoice>.
   </para>
   <warning>
    <title>The root User</title>
    <para>
     The &rootuser; user has all the permissions needed to make changes to
     the system. To carry out such tasks, the &rootuser; password is
     required. You cannot carry out any administrative tasks without this
     password.
    </para>
   </warning>
  </sect2>
-->
  </sect3>
  <sect3>
   <title>System Volume Configuration</title>
   <para>
    The next &yast; pop-up dialog will let you specify the volume
    configuration.  Here you configure the volume for the system and
    swap space.  Suitable values depending on your available hardware
    are pre-selected.  The data volume comes later, after you select the
    SAP Application.
   </para>

   <figure id="fig.s4s.inst.yast-storage-system">
    <title>System Volume Configuration</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast-storage-system.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast-storage-system.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>

   <para>
    If there is just one hard disk, keep it as the system volume device
    and set the size of the system volume (and the swap space) in GB in
    the lower field and confirm it; see <xref
    linkend="fig.s4s.inst.yast-storage-system"/>.
   </para>

   <tip>
    <title>Size of the System Volume</title>
    <para>
     Normally, at least 35 GB is required for the system volume.  The
     swap space depends on the available main memory (RAM).  For more
     information, see the SAP Note 1597355: <ulink
     url="https://service.sap.com/sap/support/notes/1597355"/>.
    </para>
   </tip>

   <para>
    If there is more than one hard disk, select the right one as the
    system volume device and set the size of the system volume (and the
    swap space) in GB in the lower fields and confirm it.  For more
    information about partitioning, see <xref linkend="s4s.part"/>.
   </para>

   <warning>
    <title>Deleting Data</title>
    <para>
     If you confirm the storage volume configuration, all existing data
     on the hard disk will be deleted.  If you do not want this to
     happen, turn off the system.
    </para>
   </warning>

  </sect3>

  <sect3 id="sec.s4s.inst.wizard.yast2.conf.manual.hostname">
   <title>Hostname, Domain Name, and IP Address</title><indexterm>
   <primary>&yast;</primary>
    <secondary>hostname</secondary></indexterm><indexterm>
    <primary>&yast;</primary>
    <secondary>domain name</secondary></indexterm><indexterm>
    <primary>installation</primary>
    <secondary>hostname</secondary></indexterm><indexterm>
    <primary>installation</primary>
    <secondary>domain name</secondary>
   </indexterm>

   <para>
    The next dialog starts with the network configuration; see <xref
    linkend="fig.s4s.inst.yast-network-config"/>.
   </para>

   <figure id="fig.s4s.inst.yast-network-config">
    <title>Hostname, Domain Name, and IP Address</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast-network-config.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast-network-config.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>

   <para>
     The <guimenu>Hostname</guimenu> is the computer’s name in the
     network. The <guimenu>Domain Name</guimenu> is the name of the
     network. A hostname and domain are proposed by default.  If your
     system is part of a network, the hostname has to be unique in this
     network, whereas the domain name has to be common to all hosts on
     the network.
   </para>

   <para>
     Also enter the <guimenu>IP Address</guimenu> and
     <guimenu>Netmask</guimenu> for this host.  The IP address must be
     unique and the netmask has to be common to all hosts on the
     network.
   </para>
  </sect3>

  <sect3 id="sec.s4s.inst.wizard.yast2.conf.manual.dns-ntp">
   <title>Domain Name Service (DNS) and Time Server (NTP)</title>

   <para>
    The next dialog continues with the network configuration; see <xref
    linkend="fig.s4s.inst.yast-network-config2"/>.
   </para>

   <figure id="fig.s4s.inst.yast-network-config2">
    <title>Domain Name Service (DNS) and Time Server (NTP)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast-network-config2.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast-network-config2.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
     For Domain Name Service (DNS) configuration, enter the <guimenu>Domain
     Searchlist</guimenu> and the <guimenu>IP Address of DNS
     Server</guimenu> plus the IP address of the <guimenu>Default
     Gateway</guimenu> of your network.
    </para>

    <para>
     Also enter the address of the <guimenu>NTP Server</guimenu> to
     synchronize automatically via Network Time Protocol (NTP).
    </para>

  </sect3>
 
   <sect3 id="sec.s4s.inst.wizard.yast2.conf.manual.reg">
    <title>Registration</title>
    <!-- 215-yast-registration.png -->

    <para>
     To get technical support and product updates, you need to register
     and activate your product with the &ncc;; see <xref
     linkend="fig.s4s.inst.yast-reg"/>.  This dialog provides assistance
     for doing so. Find detailed information about &ncc; at <ulink
     url="http://www.novell.com/documentation/ncc/"/>.
    </para>
   <figure id="fig.s4s.inst.yast-reg">
    <title>Registration</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast-registration.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast-registration.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>

    <para>
     Enter your <guimenu>E-Mail Address</guimenu> and
     <guimenu>Registration Code</guimenu> for the product.  If you
     provide the registration code now, operating system updates will be
     installed automatically during the installation of the system.
    </para>

    <!-- FIXME: Checkit -->
   <para>
    After confirmation, &yast; performs the software installation.
    Packages are installed one by one, so you can see the progress.
    </para>
    
   </sect3>
   </sect2>

   <sect2>
    <title>System Configuration Settings</title>
    <para>
     After confirming the registration data, the system will be
     configured with the supplied settings.
    </para>

    <para>
     No user action is required at this stage.
    </para>

    <warning>
     <title>Firewall Disabled</title>
     <para>
      This wizard-based installation scenario disables the firewall
      (SuSEfirewall2) completely.
     </para>
     <para>
      If needed, you can activate the firewall after the installation.
      If you activate the firewall after the installation, you must open
      all required ports manually.  For more information about required
      ports, see <xref linkend="s4s.config.ports"/>.
     </para>
    </warning>

   </sect2>

   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
               href="s4s_installation_sap.xml"/>

   </sect1>

   <sect1 id="s4s.inst.profile">
    <title><guimenu>SLES for SAP Applications &mdash;
    Installation with External Profile</guimenu></title>

    <para>
     This installation is driven by a user-provided &ay; profile and
     there is no wizard support.  This scenario is suitable for
     experienced users who are familiar with &ay; and want to deploy
     their own &ay; profiles to install &sles4sap;.  For more
     information about &ay; profiles, see the SLES <emphasis>&ay;
     Guide</emphasis> (the <emphasis>&ay; Guide</emphasis> comes
      with the product or is available from <ulink
      url="http://www.suse.com/documentation/sles-12/"/>).
    </para>

    <para>
     In order to use a user-provided &ay; profile, select <quote>Install
     SLES for SAP Applications &mdash; Installation with External
     Profile</quote> from the DVD Boot Menu.  Within the boot options,
     change the <literal>autoyast=usb:///</literal> parameter to the
     location of a user-provided &ay; profile, or enter the location
     when &yast; asks for it in the next dialog.
    </para>

    <!-- commenting for the moment...
    <para>
     &ay; will look on USB devices for the XML configuration file
     (external profile). Plug in an USB device and store your config in
     a way like it is on the DVD in the
     <filename>/sap-apl/rules</filename> directory.
    </para>
    -->

    <para>
     You can also reference the SAP specific pattern, the HA and WebYaST
     components and SAP-specific IBM Java in your &ay; profile and then
     install it during this installation scenario.  As everything else,
     these components are <emphasis>not</emphasis> preselected and you
     must include this yourself in your
     <filename>autoyast.xml</filename> file.
    </para>

    <sect2>
     <title>About &ay;</title>

     <para>
      &ay; is a system for installing one or more SUSE Linux systems
      automatically and without user intervention. &ay; installations
      are performed using  an &ay; profile with installation and configuration
      data. That profile can be created using the &ay; configuration interface
      and can be  provided to &yast; during installation in
      different ways.
     </para>

     <para>
      For more information about &ay;, see the <emphasis>&sls; 12 &ay;
      Guide</emphasis> (the <emphasis>&ay; Guide</emphasis> comes
      with the product or is available from <ulink
      url="http://www.suse.com/documentation/sles-12/"/>).
     </para>
    </sect2>

    <sect2>
     <title>Partitioning with &ay;</title>

     <para>
      For standard systems find pre-defined partitioning settings in
      <filename>/usr/share/YaST2/include/sap-installation-wizard/</filename>.
      These could serve as examples if you want to create your custom
      partitioning scripts.
     </para>

     <para>
      For background information on partitioning, see <xref
      linkend="s4s.part"/>.
     </para>
    </sect2>

   </sect1>

</chapter>
