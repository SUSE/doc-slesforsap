<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha-s4s-plan">
 <title>Planning the Installation</title>

 <para>
  Read this chapter carefully, as it helps you plan the installation: It lists
  requirements and helps you collect data about your system.
 </para>

 <sect1 xml:id="sec-s4s-hardware">
  <title>Hardware Requirements</title>
  <para>
   This section lists minimum hardware requirements for the installation of
   &s4s; and gives basic guidance on the expected hardware requirements of
   certain &sap; software. For the most up-to-date information about the
   hardware requirements of &sap; software, see the official sizing
   guidelines at <link xlink:href="https://service.sap.com/sizing"/>.
  </para>
  <variablelist>
   <varlistentry>
    <term>CPU</term>
    <listitem>
     <para>
      &x86-64;
     </para>
     <para>
      IBM &power; servers with PowerKVM compatibility
     </para>
     <remark>
      FIXME: POWER 8 and 9? Presumably also needs fixing in SLES Deploy.
      - sknorr, 2017-09-07
     </remark>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Hard Disk</term>
    <listitem>
     <para>
      &s4s; requires at least 41 GB (without swap) of hard disk space for the
      system volume.
      In addition to that, reserve an appropriate amount of hard disk space
      for the swap partition.
     </para>
     <para>
      To install an &sap; application such as &nw;, you need at least 200 GB of
      free disk space in addition to the required space for the operating
      system for the application's <filename>/data</filename> partition.
     </para>
     <para>
      To install &hana;, you need either:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        An &b1;-certified machine
       </para>
      </listitem>
      <listitem>
       <para>
        A compatible machine that meets the requirements for &hana; TDI
        (Tailored Datacenter Integration). That is, you need the following
        amounts of free disk space in addition to the required space for the
        operating system:
       </para>
       <itemizedlist>
        <listitem>
         <para>
          52 GB of free disk space for the partition
          <filename>/usr/sap</filename>
         </para>
        </listitem>
        <listitem>
         <para>
          Space for three partitions for &hana; data:
          <filename>/hana/data</filename> (same size as RAM),
          <filename>/hana/log</filename> (same size as RAM up to a maximum of
          512 GB), and <filename>/hana/shared</filename> (same size as RAM up
          to a maximum of 1 TB).
         </para>
        </listitem>
       </itemizedlist>
      </listitem>
     </itemizedlist>
     <para>
      For more information about &hana; TDI storage requirements, see:
     </para>
     <!-- FIXME! Long link is line-wrapped in terrible ways, so added new
     para despite this being semantic nonsense. -->
     <para>
      <link xlink:href="https://www.sap.com/docs/download/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.pdf"/>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>RAM</term>
    <listitem>
     <para>
      The &sls; operating system itself requires a minimum of 1024 MB of total
      RAM or a minimum of 512 MB of RAM per CPU core (choose whichever is
      higher).
     </para>
     <para>
      Any &sap; software you install will require additional RAM.
     </para>
     <para>
      To install &hana;, your machine needs a minimum of 24 GB of RAM.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   For more information about configuring hardware for &hana;, see
   <citetitle>SAP Note 1944415: Hardware Configuration Guide and Software
   Installation Guide for SUSE Linux Enterprise Server with SAP HANA and
   SAP Business One</citetitle>
   (<link xlink:href="&sapnoteaddress;1944415"/>).
  </para>
  <para>
   For more information about partitioning, see
   <xref linkend="sec-s4s-partition"/>.
  </para>
 </sect1>

 <sect1 xml:id="sec-s4s-download">
  <title>Installation Image</title>
  <procedure>
   <step>
    <para>
     Unlike previous &slea; products, the entire &slea; &productnumber;
     product line can be installed using the same ISO image:
     The &slea; &productnumber; Installer DVD 1.
     If you want to install without network access, additionally download the
     ISO image of &slea; &productnumber; Packages DVD 1.
    </para>
    <para>
     Both ISO images are available from
     <link xlink:href="https://download.suse.com/"/>.
    </para>
   </step>
   <step>
    <para>
     Burn the image/images onto a physical DVD and ensure that it is/they are
     bootable.
     Alternatively, use a virtual DVD-ROM device for installation
     in a virtual machine.
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-s4s-migration">
  <title>Offline Migration</title>
  <para>As the migration paths for &sls; are identical as those for &sles4sap;,
  find detailed information in the &upgrade_guide; at <link
    xlink:href="https://www.suse.com/documentation/sles-15/book_sle_upgrade/data/cha_upgrade-paths.html"/>.
  </para>
 </sect1>

 <sect1 condition="noquick" xml:id="sec-s4s-how-install">
  <title>Installation Methods</title>
  <para>
   There are multiple ways of installing &sles4sap;:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     <xref linkend="sec-s4s-install-workflow" xrefstyle="select:title,nopage"/>
     (standard way of installation)
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec-s4s-autoyast" xrefstyle="select:title,nopage"/>
    </para>
   </listitem>
  </itemizedlist>
 </sect1>

 <sect1 xml:id="sec-s4s-workflow-overview">
  <title>Overview of the Installation Workflow</title>

  <para>
   The installation workflow of &sles4sap; consists of the following steps:
  </para>

  <orderedlist>
   <listitem>
    <para>
     Installation of the operating system (&sls;). See
     <xref linkend="sec-s4s-install-workflow"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     &sapwiz;, part 1: Copying all required &sap; media to the
     local disk or selecting a shared storage medium to use.
     See <xref linkend="sec-s4s-install-sap-product"/>, in particular
     <xref linkend="st-s4s-copy-master" xrefstyle="select:title"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     &sapwiz;, part 2: Collecting all parameters for the
     actual installation by querying the user interactively.
     See <xref linkend="sec-s4s-install-sap-product"/>, in particular
     <xref linkend="st-s4s-collect-parameter" xrefstyle="select:title"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     &sapwiz;, part 3: Running the &sap; Installer.
     See <xref linkend="sec-s4s-install-sap-product"/>, in particular
     <xref linkend="st-s4s-sapinst" xrefstyle="select:title"/>.
    </para>
   </listitem>
  </orderedlist>

  <important>
   <title>Installation of Only &sls;</title>
   <para>
    You can choose to only install a base &sls; system. In that case,
    only the first step of the installation workflow is executed.
   </para>
   <para>
    This can be necessary when you want to install an Oracle database on a
    &s4s; machine. To do so, install the base product &sls; first, then
    install the Oracle database and later convert your
    installation to &s4sa;. This is necessary because the installer of Oracle
    databases queries for the existence of certain files, not all of which are
    included in a &s4sa; installation.
   </para>
   <para condition="noquick">
    For more information about converting, see
    <xref linkend="sec-s4s-convert-sles"/>.
   </para>
  </important>

  <para>
   Most of these steps do not need to be run immediately after each other, which
   allows for flexibility in how you install systems.
   This means that you can prepare a single installation
   as a first step and then continue from there. For example:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Install the operating system (&sls;) only.
    </para>
    <para>
     <emphasis>or</emphasis>
    </para>
   </listitem>
   <listitem>
    <para>
     Install the operating system (&sls;), copy &sap; media, and collect
     &sap; installation parameters.
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Then, create disk images, copy them to other systems, and adjust &sap;
   installation parameters. Finally, finish the installation on each machine
   individually.
  </para>
 </sect1>

 <sect1 xml:id="sec-s4s-data">
  <title>Required Data for Installing</title>

  <variablelist>
   <varlistentry>
    <term>Operating System</term>
    <listitem>
     <para>
      The &sls; installation requires the following data for every
      physical server:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        Network configuration parameters, such as host name, domain, IP address,
        subnet mask, domain searchlist (DNS), IP for name server, IP for gateway
       </para>
      </listitem>
      <listitem>
       <para>
        Administrator (<systemitem>root</systemitem>) password for the &sls;
        installation
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>&sap; Application</term>
    <listitem>
     <para>
      The installation of an &sap; application generally requires specifying:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        &sap; SID
       </para>
      </listitem>
      <listitem>
       <para>
        &sap; Instance Number
       </para>
      </listitem>
      <listitem>
       <para>
        A password for the &sap; application
       </para>
      </listitem>
     </itemizedlist>
     <para>
      Depending on the &sap; application you are installing, more parameters may be
      necessary, such as T-Shirt Sizing or parameters for virtual networking.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>&hana; Database</term>
    <listitem>
     <para>
      The installation of &hana; requires specifying:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        &sap; SID
       </para>
      </listitem>
      <listitem>
       <para>
        &sap; Instance Number
       </para>
      </listitem>
      <listitem>
       <para>
        Whether to enable Multitenant Database Containers (MDC).
        The multi-tenant support of &hana; allows having multiple
        databases that run as one &hana; installation.
        (To use &hana; MDC, you need &hana; Life Cycle Manager.)
       </para>
       <para>
        For a single-tenant installation, choose <guimenu>No</guimenu>.
       </para>
       <para>
        For a multi-tenant instance administrated by one
        <systemitem class="username"><replaceable>SID</replaceable>adm</systemitem>
        user, choose <guimenu>Yes with low isolation</guimenu>.
       </para>
       <para>
        For a multi-tenant instance administrated in which each database
        has its own
        <systemitem class="username"><replaceable>SID</replaceable>adm</systemitem>
        user, choose <guimenu>Yes with high isolation</guimenu>.
       </para>
      </listitem>
      <listitem>
       <para>
        A password for the &hana; database
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   For more information about installing &sap; software, see the &sap;
   documentation at <link xlink:href="https://help.sap.com"/> and
   <link xlink:href="https://support.sap.com"/>.
  </para>
 </sect1>


 <xi:include href="s4s_partitioning.xml" parse="xml"/>

</chapter>
